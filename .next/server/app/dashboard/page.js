(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},253:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(8256),t(2029),t(5866);var a=t(3191),n=t(8716),r=t(7922),i=t.n(r),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8256)),"C:\\Users\\dikan\\Downloads\\lendsqr-test\\Lendsqr-fe-test\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\dikan\\Downloads\\lendsqr-test\\Lendsqr-fe-test\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\dikan\\Downloads\\lendsqr-test\\Lendsqr-fe-test\\src\\app\\dashboard\\page.tsx"],u="/dashboard/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9760:(e,s,t)=>{Promise.resolve().then(t.bind(t,2114))},2114:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(326),n=t(7577),r=t(5047),i=t(3222),l=t(8223),o=t(6226);t(1195);let d=[{title:"USERS",icon:"/images/users.png",key:"totalUsers",color:"#DF18FF"},{title:"ACTIVE USERS",icon:"/images/active.png",key:"activeUsers",color:"#5718FF"},{title:"USERS WITH LOANS",icon:"/images/userloans.png",key:"usersWithLoans",color:"#F55F44"},{title:"USERS WITH SAVINGS",icon:"/images/coins.png",key:"usersWithSavings",color:"#FF3366"}];function c({stats:e}){return a.jsx("div",{className:"user-stats",children:d.map(s=>(0,a.jsxs)("div",{className:"stat-card",children:[a.jsx("div",{className:"stat-icon",style:{backgroundColor:`${s.color}1A`},children:a.jsx(o.default,{src:s.icon,alt:s.title,width:40,height:40})}),a.jsx("h3",{children:s.title}),a.jsx("p",{children:e[s.key].toLocaleString()})]},s.title))})}var u=t(4752),h=t(6591);let m=(0,n.createContext)(void 0);function x({children:e}){let[s,t]=(0,n.useState)("");return a.jsx(m.Provider,{value:{searchQuery:s,setSearchQuery:t},children:e})}function p({filters:e,onApply:s,onReset:t,onClose:r}){let[i,l]=(0,n.useState)(e),o=(e,s)=>{l(t=>({...t,[e]:s}))};return(0,a.jsxs)("div",{className:"filter-dropdown",children:[(0,a.jsxs)("div",{className:"filter-form",children:[(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Organization"}),(0,a.jsxs)("select",{value:i.organization,onChange:e=>o("organization",e.target.value),children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"Lendsqr",children:"Lendsqr"}),a.jsx("option",{value:"Irorun",children:"Irorun"}),a.jsx("option",{value:"Lendstar",children:"Lendstar"}),a.jsx("option",{value:"Paystack",children:"Paystack"}),a.jsx("option",{value:"Flutterwave",children:"Flutterwave"})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Username"}),a.jsx("input",{type:"text",placeholder:"User",value:i.username,onChange:e=>o("username",e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:e=>o("email",e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Date"}),a.jsx("input",{type:"date",value:i.date,onChange:e=>o("date",e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Phone Number"}),a.jsx("input",{type:"tel",placeholder:"Phone Number",value:i.phoneNumber,onChange:e=>o("phoneNumber",e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Status"}),(0,a.jsxs)("select",{value:i.status,onChange:e=>o("status",e.target.value),children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Blacklisted",children:"Blacklisted"})]})]})]}),(0,a.jsxs)("div",{className:"filter-actions",children:[a.jsx("button",{className:"reset-btn",onClick:()=>{l({organization:"",username:"",email:"",date:"",phoneNumber:"",status:""}),t()},children:"Reset"}),a.jsx("button",{className:"filter-btn",onClick:()=>{s(i)},children:"Filter"})]})]})}function j({currentPage:e,totalPages:s,itemsPerPage:t,totalItems:n,onPageChange:r,onItemsPerPageChange:i}){return(0,a.jsxs)("div",{className:"pagination-container",children:[(0,a.jsxs)("div",{className:"pagination-info",children:[a.jsx("span",{children:"Showing"}),(0,a.jsxs)("select",{value:t,onChange:e=>i(Number(e.target.value)),className:"items-per-page",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),(0,a.jsxs)("span",{children:["out of ",n]})]}),(0,a.jsxs)("div",{className:"pagination-controls",children:[a.jsx("button",{className:"pagination-btn",onClick:()=>r(e-1),disabled:1===e,children:a.jsx(u.u1R,{})}),(()=>{let t=[];if(s<=5)for(let e=1;e<=s;e++)t.push(e);else if(e<=3){for(let e=1;e<=4;e++)t.push(e);t.push("..."),t.push(s)}else if(e>=s-2){t.push(1),t.push("...");for(let e=s-3;e<=s;e++)t.push(e)}else{t.push(1),t.push("...");for(let s=e-1;s<=e+1;s++)t.push(s);t.push("..."),t.push(s)}return t})().map((s,t)=>a.jsx("button",{className:`pagination-btn ${s===e?"active":""} ${"..."===s?"ellipsis":""}`,onClick:()=>"number"==typeof s&&r(s),disabled:"..."===s,children:s},t)),a.jsx("button",{className:"pagination-btn",onClick:()=>r(e+1),disabled:e===s,children:a.jsx(u.hjJ,{})})]})]})}function g({users:e,isLoading:s}){let[t,i]=(0,n.useState)(1),[l,d]=(0,n.useState)(10),[c,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)({column:"",element:null}),[b,N]=(0,n.useState)({organization:"",username:"",email:"",date:"",phoneNumber:"",status:""}),[f,C]=(0,n.useState)(null),{searchQuery:w}=function(){let e=(0,n.useContext)(m);if(void 0===e)throw Error("useSearch must be used within a SearchProvider");return e}(),S=(0,r.useRouter)(),k=(0,n.useMemo)(()=>e.filter(e=>{let s=!w||e.orgName.toLowerCase().includes(w.toLowerCase())||e.userName.toLowerCase().includes(w.toLowerCase())||e.email.toLowerCase().includes(w.toLowerCase())||e.phoneNumber.includes(w)||e.status.toLowerCase().includes(w.toLowerCase())||`${e.profile.firstName} ${e.profile.lastName}`.toLowerCase().includes(w.toLowerCase()),t=(!b.organization||e.orgName.toLowerCase().includes(b.organization.toLowerCase()))&&(!b.username||e.userName.toLowerCase().includes(b.username.toLowerCase()))&&(!b.email||e.email.toLowerCase().includes(b.email.toLowerCase()))&&(!b.phoneNumber||e.phoneNumber.includes(b.phoneNumber))&&(!b.status||e.status===b.status)&&(!b.date||e.dateJoined.includes(b.date));return s&&t}),[e,b,w]),P=(0,n.useMemo)(()=>{let e=(t-1)*l;return k.slice(e,e+l)},[k,t,l]),y=Math.ceil(k.length/l),L=e=>{h.W.saveSelectedUser(e),S.push(`/users/${e.id}`)},U=(e,s)=>{e.stopPropagation();let t=e.currentTarget;c&&g.column===s?x(!1):(v({column:s,element:t}),x(!0))},_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})+" "+new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),A=e=>{switch(e){case"Active":return"status-active";case"Inactive":return"status-inactive";case"Pending":return"status-pending";case"Blacklisted":return"status-blacklisted";default:return""}},E=(e,s)=>{e.stopPropagation(),C(f===s?null:s)};return(0,a.jsxs)("div",{className:"user-table-container",children:[a.jsx("div",{className:"table-wrapper",children:(0,a.jsxs)("table",{className:"user-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:(0,a.jsxs)("div",{className:"header-cell",children:["ORGANIZATION",a.jsx("button",{className:"filter-btn",onClick:e=>U(e,"organization"),children:a.jsx(o.default,{src:"/images/filter.png",alt:"Filter",width:16,height:16})}),c&&"organization"===g.column&&a.jsx(p,{filters:b,onApply:e=>{N(e),i(1),x(!1)},onReset:()=>{N({organization:"",username:"",email:"",date:"",phoneNumber:"",status:""}),i(1),x(!1)},onClose:()=>x(!1)})]})}),a.jsx("th",{children:(0,a.jsxs)("div",{className:"header-cell",children:["USERNAME",a.jsx("button",{className:"filter-btn",onClick:()=>x(!0),children:a.jsx(o.default,{src:"/images/filter.png",alt:"Filter",width:16,height:16})})]})}),a.jsx("th",{children:(0,a.jsxs)("div",{className:"header-cell",children:["EMAIL",a.jsx("button",{className:"filter-btn",onClick:()=>x(!0),children:a.jsx(o.default,{src:"/images/filter.png",alt:"Filter",width:16,height:16})})]})}),a.jsx("th",{children:(0,a.jsxs)("div",{className:"header-cell",children:["PHONE NUMBER",a.jsx("button",{className:"filter-btn",onClick:()=>x(!0),children:a.jsx(o.default,{src:"/images/filter.png",alt:"Filter",width:16,height:16})})]})}),a.jsx("th",{children:(0,a.jsxs)("div",{className:"header-cell",children:["DATE JOINED",a.jsx("button",{className:"filter-btn",onClick:()=>x(!0),children:a.jsx(o.default,{src:"/images/filter.png",alt:"Filter",width:16,height:16})})]})}),a.jsx("th",{children:(0,a.jsxs)("div",{className:"header-cell",children:["STATUS",a.jsx("button",{className:"filter-btn",onClick:()=>x(!0),children:a.jsx(o.default,{src:"/images/filter.png",alt:"Filter",width:16,height:16})})]})}),a.jsx("th",{})]})}),a.jsx("tbody",{children:P.map(e=>(0,a.jsxs)("tr",{onClick:()=>L(e),className:"user-row",children:[a.jsx("td",{children:e.orgName}),a.jsx("td",{children:e.userName}),a.jsx("td",{children:e.email}),a.jsx("td",{children:e.phoneNumber}),a.jsx("td",{children:_(e.dateJoined)}),a.jsx("td",{children:a.jsx("span",{className:`status ${A(e.status)}`,children:e.status})}),a.jsx("td",{children:(0,a.jsxs)("div",{className:"action-cell",children:[a.jsx("button",{className:"action-btn",onClick:s=>E(s,e.id),children:a.jsx(u.mZq,{})}),f===e.id&&(0,a.jsxs)("div",{className:"action-dropdown",children:[(0,a.jsxs)("button",{onClick:()=>L(e),children:[a.jsx(o.default,{src:"/images/np_view_1214519_000000 1.png",alt:"View",width:16,height:16}),"View Details"]}),(0,a.jsxs)("button",{children:[a.jsx(o.default,{src:"/images/np_delete-friend_3248001_000000 1.png",alt:"Blacklist",width:16,height:16}),"Blacklist User"]}),(0,a.jsxs)("button",{children:[a.jsx(o.default,{src:"/images/np_user_2995993_000000 1.png",alt:"Activate",width:16,height:16}),"Activate User"]})]})]})})]},e.id))})]})}),a.jsx(j,{currentPage:t,totalPages:y,itemsPerPage:l,totalItems:k.length,onPageChange:i,onItemsPerPageChange:d})]})}t(974),t(3729),t(2247);var v=t(2781);function b(){let[e,s]=(0,n.useState)([]),[t,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0),[m,p]=(0,n.useState)("");(0,r.useRouter)();let j=async()=>{try{u(!0);let e=h.W.getUsers();e.length>0&&s(e);let[t,a]=await Promise.all([v.y.getUsers(),v.y.getUserStats()]);s(t),o(a),h.W.saveUsers(t)}catch(e){p("Failed to load dashboard data"),console.error("Dashboard data loading error:",e)}finally{u(!1)}};return d&&0===e.length?(0,a.jsxs)("div",{className:"dashboard-layout",children:[a.jsx(i.Z,{}),(0,a.jsxs)("div",{className:"dashboard-content",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"main-content",children:(0,a.jsxs)("div",{className:"loading-container",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Loading dashboard..."})]})})]})]}):m&&0===e.length?(0,a.jsxs)("div",{className:"dashboard-layout",children:[a.jsx(i.Z,{}),(0,a.jsxs)("div",{className:"dashboard-content",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"main-content",children:(0,a.jsxs)("div",{className:"error-container",children:[a.jsx("p",{children:m}),a.jsx("button",{onClick:j,children:"Retry"})]})})]})]}):a.jsx(x,{children:(0,a.jsxs)("div",{className:"dashboard-layout",children:[a.jsx(i.Z,{}),(0,a.jsxs)("div",{className:"dashboard-content",children:[a.jsx(l.Z,{}),(0,a.jsxs)("main",{className:"main-content",children:[a.jsx("div",{className:"dashboard-header",children:a.jsx("h1",{children:"Users"})}),t&&a.jsx(c,{stats:t}),a.jsx(g,{users:e,isLoading:d})]})]})]})})}t(2021)},8256:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\dikan\Downloads\lendsqr-test\Lendsqr-fe-test\src\app\dashboard\page.tsx#default`)},2021:()=>{},1195:()=>{},974:()=>{},3729:()=>{},2247:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[819,850,734,507],()=>t(253));module.exports=a})();